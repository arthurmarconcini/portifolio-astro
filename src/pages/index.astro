---
import {AvatarComponent} from "@/components/Avatar"
import Layout from '../layouts/Layout.astro';

import { ReposList } from "@/components/ReposList";
import type { Repository } from "@/types/repos";
import { Button } from "@/components/ui/button";

import {Download} from "lucide-react"
import { SocialList } from "@/components/SocialList";
import Tools from "@/components/Tools";

/* const response = await fetch('https://api.github.com/users/arthurmarconcini/repos');
const data: Repository[] = await response.json() || []; */

const data: Repository[] = [{id: 1, name: "Agenda", full_name: "agenda", description: "Agenda criada com REACT", created_at: new Date().toDateString(), html_url: "https://github.com.br/arthurmarconcini"}, {id: 2, name: "Agenda", full_name: "agenda", description: "Agenda criada com REACT", created_at: new Date().toDateString(), html_url: "https://github.com.br/arthurmarconcini"}, {id: 3, name: "Agenda", full_name: "agenda", description: "Agenda criada com REACT", created_at: new Date().toDateString(), html_url: "https://github.com.br/arthurmarconcini"},{id: 4, name: "Agenda", full_name: "agenda", description: "Agenda criada com REACT", created_at: new Date().toDateString(), html_url: "https://github.com.br/arthurmarconcini"}, {id: 5, name: "Agenda", full_name: "agenda", description: "Agenda criada com REACT", created_at: new Date().toDateString(), html_url: "https://github.com.br/arthurmarconcini"}]
const user = data.sort((a, b) => b.created_at.localeCompare(a.created_at)).slice(0, 5)  ;
---

<Layout title="Welcome to Astro.">
	{user ? (<main class="p-8 mx-auto w-full max-w-6xl flex flex-col justify-center items-center gap-8">		
		<AvatarComponent />
		<div class="flex flex-col items-center text-slate-400">			
			<h1 class="mb-8 font-bold type-social text-lg text-white" />			
			<p>🎓 Formado em Ciências da Computação pela Faculdade Pitágoras de Guarapari</p>
			<p>💼 Desenvolvedor Fullstack Freelancer há 1 ano.</p>
			<p>🤝 Estou sempre aberto a fazer novos contatos e colaborar em projetos empolgantes.</p>
		</div>
		<Tools />
		<div class="flex items-center justify-start gap-4">
			<span class="font-light text-lg">Baixar Curriculum</span>
			<a href="https://drive.google.com/file/d/1bPgQLDLuF1Di0KqBEESXZ5ZOBgxm8lxq/view?usp=sharing" target="_blank" rel="noreferrer" class="animate-pulse border border-slate-400 rounded-lg p-2">				
				<Button asChild variant="outline"><Download /></Button>
			</a>			
		</div>
		<ReposList repository={user} />
		<SocialList />
	</main>) : (<div>Carregando...</div>)}
	
</Layout>

